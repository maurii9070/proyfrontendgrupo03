<div
  class="d-flex justify-content-center align-items-center min-vh-100 bg-primary-subtle"
>
  <div
    class="card shadow-lg border-0 rounded-4"
    style="max-width: 400px; width: 100%"
  >
    <div class="card-body p-5">
      <!-- Logo o título -->
      <div class="text-center mb-4">
        <h3 class="fw-bold text-primary mb-2">Iniciar Sesión</h3>
        <p class="text-muted">Accede a tu cuenta del consultorio</p>
      </div>

      <!-- Formulario de login -->
      <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
        <!-- Campo DNI -->
        <div class="mb-3">
          <label for="dni" class="form-label fw-medium text-dark">DNI</label>
          <div class="input-group">
            <span class="input-group-text bg-light border-end-0">
              <i class="bi bi-person-vcard text-secondary"></i>
            </span>
            <input
              type="text"
              class="form-control border-start-0 ps-2"
              id="dni"
              formControlName="dni"
              placeholder="Ingrese su DNI"
              maxlength="8"
            />
          </div>
          <div class="form-text">Ingrese su número de documento sin puntos</div>
          <!-- Mensaje de validación -->
          @if (dni?.invalid && dni?.touched) {
          <div class="text-danger small mt-1">
            @if (dni?.errors?.['required']) {
            <span>El DNI es requerido</span>
            } @if (dni?.errors?.['pattern']) {
            <span>El DNI debe tener entre 7 y 8 dígitos</span>
            }
          </div>
          }
        </div>

        <!-- Campo Password -->
        <div class="mb-4">
          <label for="password" class="form-label fw-medium text-dark"
            >Contraseña</label
          >
          <div class="input-group">
            <span class="input-group-text bg-light border-end-0">
              <i class="bi bi-lock text-secondary"></i>
            </span>
            <input
              [type]="showPassword ? 'text' : 'password'"
              class="form-control border-start-0 ps-2"
              id="password"
              formControlName="password"
              placeholder="Ingrese su contraseña"
            />
            <button
              class="btn btn-outline-secondary border-start-0"
              type="button"
              (click)="togglePassword()"
            >
              <i
                class="bi"
                [class.bi-eye]="!showPassword"
                [class.bi-eye-slash]="showPassword"
              ></i>
            </button>
          </div>
          <!-- Mensaje de validación -->
          @if (password?.invalid && password?.touched) {
          <div class="text-danger small mt-1">
            @if (password?.errors?.['required']) {
            <span>La contraseña es requerida</span>
            } @if (password?.errors?.['minlength']) {
            <span>La contraseña debe tener al menos 6 caracteres</span>
            }
          </div>
          }
        </div>

        <!-- Botón de login -->
        <div class="d-grid mb-4">
          <button
            type="submit"
            class="btn btn-primary btn-lg rounded-3"
            [disabled]="loginForm.invalid || isLoading"
          >
            @if (isLoading) {
            <span class="spinner-border spinner-border-sm me-2" role="status">
              <span class="visually-hidden">Loading...</span>
            </span>
            } @else {
            <i class="bi bi-box-arrow-in-right me-2"></i>
            }
            {{ isLoading ? "Iniciando..." : "Iniciar Sesión" }}
          </button>
        </div>

        <!-- Enlace para crear cuenta -->
        <div class="text-center mb-4">
          <p class="text-muted mb-3">¿No tienes una cuenta?</p>
          <button
            type="button"
            class="btn btn-outline-primary rounded-3"
            (click)="onCreateAccount()"
          >
            <i class="bi bi-person-plus me-2"></i>
            Crear Cuenta Nueva
          </button>
        </div>

        <!-- Separador Bootstrap nativo -->
        <div class="text-center my-4">
          <div class="row align-items-center">
            <div class="col">
              <hr class="text-muted" />
            </div>
            <div class="col-auto">
              <span class="text-muted small">o</span>
            </div>
            <div class="col">
              <hr class="text-muted" />
            </div>
          </div>
        </div>

        <!-- Botón de Google con Bootstrap -->
        <div class="text-center mb-4">
          <button
            type="button"
            class="btn btn-outline-secondary btn-lg w-100 rounded-3"
            (click)="onGoogleLogin()"
          >
            <i class="bi bi-google me-2 text-danger"></i>
            <span class="text-dark">Continuar con Google</span>
          </button>
        </div>

        <!-- Enlaces adicionales -->
        <div class="text-center mt-4">
          <a
            href="#"
            class="text-decoration-none text-muted small"
            (click)="onForgotPassword(); $event.preventDefault()"
          >
            ¿Olvidaste tu contraseña?
          </a>
        </div>
      </form>
    </div>
  </div>
</div>
